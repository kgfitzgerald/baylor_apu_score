"0","# convert into names by judge"
"0","# converting judge1 into judge"
"0","judge_1 <- decisions %>%"
"0","  mutate("
"0","    judge = judge1,"
"0","    judge_score1 = judge1_score1,"
"0","    judge_score2 = judge1_score2,"
"0","    judge_margin = judge1_margin,"
"0","    judge_perc = judge1_perc,"
"0","    judge_dev = judge1_dev,"
"0","    judge_out = judge1_out,"
"0","    agreement = recode(agreement,"
"0","                       'judge1' = 'judge')) %>%"
"0","  select(-judge1, -judge1_score1, -judge1_score2, -judge1_margin, -judge1_perc, -judge1_dev, -judge1_out)"
"0",""
"0","# converting judge2 into judge"
"0","judge_2 <- decisions %>%"
"0","  mutate("
"0","    judge = judge2,"
"0","    judge_score1 = judge2_score1,"
"0","    judge_score2 = judge2_score2,"
"0","    judge_margin = judge2_margin,"
"0","    judge_perc = judge2_perc,"
"0","    judge_dev = judge2_dev,"
"0","    judge_out = judge2_out,"
"0","    judge2 = judge1,"
"0","    judge2_score1 = judge1_score1,"
"0","    judge2_score2 = judge1_score2,"
"0","    judge2_margin = judge1_margin,"
"0","    judge2_perc = judge1_perc,"
"0","    judge2_dev = judge1_dev,"
"0","    judge2_out = judge1_out,"
"0","    agreement = recode(agreement,"
"0","                       'judge2' = 'judge',"
"0","                       'judge1' = 'judge2')) %>%"
"0","  select(-judge1, -judge1_score1, -judge1_score2, -judge1_margin, -judge1_perc, -judge1_dev, -judge1_out)"
"0",""
"0","# converting judge3 into judge"
"0","judge_3 <- decisions %>%"
"0","  mutate("
"0","    judge = judge3,"
"0","    judge_score1 = judge3_score1,"
"0","    judge_score2 = judge3_score2,"
"0","    judge_margin = judge3_margin,"
"0","    judge_perc = judge3_perc,"
"0","    judge_dev = judge3_dev,"
"0","    judge_out = judge3_out,"
"0","    judge3 = judge1,"
"0","    judge3_score1 = judge1_score1,"
"0","    judge3_score2 = judge1_score2,"
"0","    judge3_margin = judge1_margin,"
"0","    judge3_perc = judge1_perc,"
"0","    judge3_dev = judge1_dev,"
"0","    judge3_out = judge1_out,"
"0","    agreement = recode(agreement,"
"0","                       'judge3' = 'judge',"
"0","                       'judge1' = 'judge3')) %>%"
"0","  select(-judge1, -judge1_score1, -judge1_score2, -judge1_margin, -judge1_perc, -judge1_dev, -judge1_out)"
"0",""
"0","# binds rows"
"0","judges <- bind_rows(judge_1, judge_2, judge_3) %>%"
"0","  relocate(c(judge, judge_score1, judge_score2, judge_margin, judge_perc, judge_dev, judge_out, agreement), .before = judge2) %>%"
"0","  arrange(date) %>%"
"0","  mutate(judge_out = factor(judge_out, levels = c(""fighter1"", ""draw"", ""fighter2"")))"
"0",""
"0","# creates summary dataframe"
"0","j_summary <- judges %>%"
"0","  mutate(disagreement = str_count(agreement, ""judge"")) %>%"
"0","  group_by(judge) %>%"
"0","  summarise("
"0","    fights = n(),"
"0","    mean_perc = percent(sum(abs(1 - judge_score1/judge_score2))/fights, accuracy = .01),"
"0","    mean_dev = round(sum(abs(judge_dev)/fights), 2),"
"0","    disagree = sum(disagreement),"
"0","    agree_rate = percent(1 - disagree/fights, accuracy = .01)) %>%"
"0","  arrange(desc(fights)) %>%"
"0","  select(judge, fights)"
